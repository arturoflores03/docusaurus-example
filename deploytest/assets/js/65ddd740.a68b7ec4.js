"use strict";(self.webpackChunkesencial_documentation=self.webpackChunkesencial_documentation||[]).push([[106],{73:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var s=i(5893),a=i(1151);const r={sidebar_position:2},o="Configuracion de ambientes",l={id:"tutorial-basics/configuracion-ambientes",title:"Configuracion de ambientes",description:"1 Configuraci\xf3n ambiente local",source:"@site/docs/tutorial-basics/configuracion-ambientes.md",sourceDirName:"tutorial-basics",slug:"/tutorial-basics/configuracion-ambientes",permalink:"/docusaurus-example/docs/tutorial-basics/configuracion-ambientes",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/tutorial-basics/configuracion-ambientes.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Ciclo de Vida",permalink:"/docusaurus-example/docs/tutorial-basics/ciclo-de-vida"},next:{title:"Glosario",permalink:"/docusaurus-example/docs/tutorial-basics/glosario"}},c={},d=[{value:"1 Configuraci\xf3n ambiente local",id:"1-configuraci\xf3n-ambiente-local",level:2},{value:"0. Instalaciones",id:"0-instalaciones",level:3},{value:"1. Base de datos postgresql",id:"1-base-de-datos-postgresql",level:3},{value:"2. Backend",id:"2-backend",level:3},{value:"3. Migrations",id:"3-migrations",level:3},{value:"4. Front",id:"4-front",level:3},{value:"Bonus - Errores comunes",id:"bonus---errores-comunes",level:3},{value:"2 Configuraci\xf3n de ambiente temporal",id:"2-configuraci\xf3n-de-ambiente-temporal",level:2}];function t(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"configuracion-de-ambientes",children:"Configuracion de ambientes"}),"\n",(0,s.jsx)(n.h2,{id:"1-configuraci\xf3n-ambiente-local",children:"1 Configuraci\xf3n ambiente local"}),"\n",(0,s.jsxs)(n.p,{children:["Antes de realizar estos pasos debes leer el ",(0,s.jsx)(n.code,{children:"README.md"})," que se encuentra en la ra\xedz del repositorio, el cual te llevar\xe1 a los dem\xe1s ",(0,s.jsx)(n.code,{children:"READMEs"})," que son necesarios para la instalaci\xf3n de las diferentes herramientas."]}),"\n",(0,s.jsx)("aside",{children:(0,s.jsx)(n.p,{children:"\ud83d\udca1 Por lo general, los accesos al repositorio toman su tiempo en otorgarse. Por lo que te invitamos a solicitar a tu TL un .ZIP del repositorio actualizado para ir familiariz\xe1ndote con el monorepo y para que puedas levantar tu ambiente en tu m\xe1quina local."})}),"\n",(0,s.jsx)(n.h3,{id:"0-instalaciones",children:"0. Instalaciones"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Instalar Java 8"}),"\n",(0,s.jsx)(n.li,{children:"Instalar NVM y NodeJS v14"}),"\n",(0,s.jsx)(n.li,{children:"Instalar Docker"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"1-base-de-datos-postgresql",children:"1. Base de datos postgresql"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"cd tools/dockers/postgresql"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"./run.sh build"})}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"2-backend",children:"2. Backend"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"cd backend-api"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"./run.sh create_env"})}),"\n",(0,s.jsxs)(n.li,{children:["Ir a ",(0,s.jsx)(n.code,{children:"config-local.ts"})," y definir ",(0,s.jsx)(n.code,{children:"configDefault.sequelize.syncDbOnDemand = false;"})]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"./run.sh install"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"./run.sh start"})}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"3-migrations",children:"3. Migrations"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"cd backend-migrations"}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"./run.sh create_env"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"./run.sh install"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"./run.sh start"})}),"\n",(0,s.jsxs)(n.li,{children:["Desde otra consola, ",(0,s.jsx)(n.code,{children:"./run.sh migrations_local up"})," Esto nos crear\xe1 las tablas en nuestro contenedor local."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"4-front",children:"4. Front"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"cd frontend"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"./run.sh create_env"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"./run.sh install"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"./run.sh start"})}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"bonus---errores-comunes",children:"Bonus - Errores comunes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Si al inicializar el backend te genera un error con dynamo, haz lo siguiente:","\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Dentro de la carpeta que est\xe9s corriendo (migraci\xf3n o back) crea la carpeta ",(0,s.jsx)(n.code,{children:".dynamodb"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Ve al ",(0,s.jsx)(n.code,{children:"package.json"})," y reemplaza el comando en ",(0,s.jsx)(n.code,{children:"dbb:install"})," por:"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'\n"ddb:install": "curl https://s3-us-west-2.amazonaws.com/dynamodb-local/dynamodb_local_2023-02-02.tar.gz --output dynamodb.tar.gz && tar -zxf dynamodb.tar.gz --directory ./.dynamodb && rm dynamodb.tar.gz",\n\n'})}),"\n",(0,s.jsx)(n.h2,{id:"2-configuraci\xf3n-de-ambiente-temporal",children:"2 Configuraci\xf3n de ambiente temporal"}),"\n",(0,s.jsx)(n.p,{children:"Los ambientes temporales nos permiten contar con nuestra propia instalaci\xf3n en AWS, para esto debemos seguir los siguientes pasos:"}),"\n",(0,s.jsx)(n.p,{children:"1.- Crear archivos de configuracion en frontend y backend con nuestras iniciales y el prefijo dev, por ejemplo dev-lg, donde lg = Luis Gonzalez, esto en el directorio config"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"backend: src/config"}),"\n",(0,s.jsx)(n.li,{children:"frontend: src/config"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"2.- El contenido de los archivos de configuracion debe ser identico a config-dev, modicar las urls y cambiar donde corresponda el path asociado al ambiente, siguiendo el ejemplo deberia ser /dev-lg"}),"\n",(0,s.jsx)(n.p,{children:"3.- Modificar el archivo .env en front y back end , la key AWS_STAGE=dev-lg"}),"\n",(0,s.jsx)(n.p,{children:"4.- Para probar se debe correr ./run.sh deploy en ambos proyectos."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Una vez configurado tu ambiente. Debes sumar tu URL a la lista de URLs del equipo aqu\xed: ",(0,s.jsx)(n.a,{href:"https://docs.google.com/spreadsheets/d/1kifQegNz2nd-x3V4fKob7rY2h6kaQjNTltCETCLw7yY/edit#gid=0",children:"https://docs.google.com/spreadsheets/d/1kifQegNz2nd-x3V4fKob7rY2h6kaQjNTltCETCLw7yY/edit#gid=0"})]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}},1151:(e,n,i)=>{i.d(n,{Z:()=>l,a:()=>o});var s=i(7294);const a={},r=s.createContext(a);function o(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);